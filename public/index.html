<!doctype html>
<html>

<head>
  <title>Lyrics for Spotify</title>
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="/main_css.css">
  <style type="text/css">
    #login,
    #loggedin {
      display: none;
    }

    .text-overflow {
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      width: 500px;
    }
  </style>
</head>

<body>
  <div class="jumbotron text-center" style="margin:0; padding-top: 1%;padding-bottom: 1%">
    <h1>Lyrics for Spotify</h1>
    <p></p>
  </div>
  <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="">Home</a>
      </li>

    </ul>
  </nav>
  <div class="container">
    <div id="login" class="container">
      <h1>Follow this link to log into your Spotify account to share your data about current track etc. with this
        website.</h1>
      <a href="/login" class="btn btn-primary d-flex justify-content-center">Log in with Spotify</a>
      <br>
      <p>Application will fetch data from your spotify player about currently playing music and redirect to appropriate
        lyrics website. </p>
    </div>
    <div id="loggedin">

      <div id="user-profile">
      </div>
      <div class="row">
        <div class="col-sm-4">
          <button class="btn btn-secondary" id="loadLyricsButton"><span class="spinner-border spinner-border-sm"
              id="lyricsLoadSpinner"></span>Load lyrics from genius.com</button>
        </div>
        <label class="form-check-label col-sm-8">
          <h3><input type="checkbox" id="autoWindow" class="form-check-input" value="">Automaticly open new window</h3>
        </label>
      </div>


      <div id="lyrics">
      </div>
      <div class='fixed-bottom' style="background-color:grey">
        <div class="row ">
          <div id="user-player" class="col-sm-6"></div>
          <div class="col-sm-6">
            <div style="padding:6% 0 0 20%">
              <button class="btn btn-secondary" id="refreshButton"><img src="refresh.png" width=40px height=40px
                  alt='Refresh current track'></button>
              <button class="btn btn-secondary" id="previousButton"><img src="arrow_left.png" width=40px
                  height=40px></button>
              <button class="btn btn-secondary" id="stopButton"><img src="pause.png" width=30px height=40px
                  id="playResumeImg" alt='stop/resume'></button>
              <button class="btn btn-secondary" id="nextButton"><img src="arrow_right.png" width=40px
                  height=40px></button>

            </div>
          </div>
        </div>
      </div>

      <!--
        <button class="btn btn-secondary" id="obtain-new-token">Obtain new token using the refresh token</button> 
          -->

    </div>

  </div>

  <script id="user-profile-template" type="text/x-handlebars-template">
      <h1 style="padding:2% 0 2%">Logged in as {{display_name}}</h1>


    </script>


  <script id="user-player-template" type="text/x-handlebars-template" scr="player.js">
    <div class="media p-3" id="track_info">
        <img  src="{{{imageUrl}}}" alt="Album cover" class="mr-3 mt-3 rounded-circle" style="width:60px;">
        <div class="media-body">
          
          <h4>Current Track: <small><i id="track_name">{{trackName}}</i></small></h4>
          <h4>Album: <small><i>{{albumName}}</i></small></h4>
          <h4>Artist: <small><i id="artist_name">{{artistName}}</i></small></h4>
          
        </div>
      </div>
          
    </script>
  <script id="lyrics-template" type="text/x-handlebars-template">

    </script>

  <div class="jumbotron" style="margin-bottom:15%;margin-top: 20%">
    <p>&copy; 2019 HK</p>
  </div>




  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0-alpha.1/handlebars.min.js"></script>
  <script src="https://code.jquery.com/jquery-1.10.1.min.js"></script>
  <script src="script.js"></script>


</body>

</html>